# Microshare to Event Hub Forwarder Configuration

microshare:
  # Credentials (from environment variables)
  username: ${MICROSHARE_USERNAME}
  password: ${MICROSHARE_PASSWORD}
  api_key: ${MICROSHARE_API_KEY}
  
  # API parameters for view-based queries
  view_id: "YOUR_VIEW_ID_HERE"  # Get from Microshare support
  rec_type: "io.microshare.lake.snapshot.hourly"
  data_context: '["${MICROSHARE_DATA_CONTEXT}","occupancy","room"]'
  category: "space"
  metric: "occupancy"
  owner_org: '"[a-zA-Z]"'
  location: "Building-A"  # Optional: filter by location

event_hub:
  # Azure Event Hub connection (from environment variable)
  connection_string: ${EVENT_HUB_CONNECTION_STRING}
  batch_size: 100
  send_timeout_seconds: 30
  max_retries: 3

# Application settings
service:
  poll_interval_minutes: 60  # How often to fetch (hourly default)
  lookback_window_hours: 1    # Fetch data from last N hours

# State management (not used in Azure Functions - kept for compatibility)
state_file: "/var/lib/microshare-forwarder/state.json"

# Logging
logging:
  level: ${LOG_LEVEL}
  console_output: true
