# Microshare to Event Hub Forwarder Configuration
# Simplified version for azure-microshare-pull branch

microshare:
  # Credentials (from environment variables)
  username: ${MICROSHARE_USERNAME}
  password: ${MICROSHARE_PASSWORD}
  api_key: ${MICROSHARE_API_KEY}
  
  # API parameters
  view_id: "63f49ba62c0e2e2b0ede4992"
  rec_type: "io.microshare.lake.snapshot.hourly"
  data_context: '["${MICROSHARE_DATA_CONTEXT}","occupancytesting","room"]'
  category: "space"
  metric: "occupancy"
  owner_org: '"[a-zA-Z]"'
  location: "Prony"

event_hub:
  # Azure Event Hub connection (from environment variable)
  connection_string: ${EVENT_HUB_CONNECTION_STRING}
  batch_size: 100
  send_timeout_seconds: 30
  max_retries: 3

# Application settings
service:
  poll_interval_minutes: 60  # How often to fetch (hourly default)
  lookback_window_hours: 1    # Fetch data from last N hours

# State management
state_file: "/var/lib/microshare-forwarder/state.json"

# Health check endpoint (optional)
health_check:
  enabled: true
  host: "0.0.0.0"
  port: 8080

# Logging
logging:
  level: ${LOG_LEVEL}
  console_output: true
